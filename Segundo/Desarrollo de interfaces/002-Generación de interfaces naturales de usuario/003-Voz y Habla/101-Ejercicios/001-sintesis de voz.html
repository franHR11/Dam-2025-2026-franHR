<!doctype html>
<html lang="es">
  <meta charset="utf-8" />
  <title>SÃ­ntesis de Voz (bÃ¡sico)</title>
  <textarea id="t" rows="4" style="width:98%; background-color: #f0f8ff;">Â¡Buenos dÃ­as! Me llamo MarÃ­a GarcÃ­a y vivo en Barcelona. Me encanta pasear por las Ramblas.</textarea>
  <br>
  <button id="s" style="background-color: #4CAF50; color: white; padding: 10px;">ðŸŽ¤ Reproducir</button>
  <script>
    let voices = [];
    function seleccionarVoz() {
      const v = voices.find(v => /es-|Spanish/i.test(v.lang)) || voices[0];
      return v || null;
    }
    function cargarVoces() {
      voices = speechSynthesis.getVoices();
    }
    cargarVoces();
    speechSynthesis.onvoiceschanged = cargarVoces;

    document.getElementById('s').onclick = () => {
      const u = new SpeechSynthesisUtterance(document.getElementById('t').value);
      const v = seleccionarVoz();
      if (v) u.voice = v;
      u.lang = (v && v.lang) || 'es-ES';
      speechSynthesis.cancel();
      speechSynthesis.speak(u);
    };
  </script>
</html>

